Тест-кейси

Тест-кейс – це набір вхідних значень, умов виконання та очікуваних результатів, розроблених для певної мети. Тест кейси можуть перевіряти повний юзер-флоу (послідовність дій для отримання певного результату, наприклад кроки для покупки товару від початку і до кінця) або відповідність певного функціоналу визначеним вимогам.

Тест-кейс — це окрема частина тестової документації, яка пояснює, як повинен функціонувати певний елемент програми. Немає стандартів щодо того, наскільки великим чи малим має бути тест кейс.

Test Suite - це набір тест кейсів, які призначені для тестування певного функціоналу. Наприклад, Test Suite для тестування форми логіну, реєстрції, або для smoke тестування, або Regression Test Suite.

Який профіт дають нам тест кейси?
забезпечують якість на великих продуктах: маючи велику кількість функціоналу нам буде складно (або неможливо) регулярно тестувати його без інструкцій. Якісь частини функціоналу будуть тестуватися частіше, про якісь - будуть час від часу забувати;
допомагають раціоналізувати тестування та оптимально витрачати час на тестування: якщо тестувальників багато - як без тест кейсів визначити, хто яку частину продукту буде тестувати? Як спланувати час, який піде у кожного з тестувальників на тест?
дозволяють простежувати прогрес виконання тестів: тестуючи по тест кейсам можна бачити, наскільки швидко чи повільно відбувається тестування і на якому ви зараз етапі;
простежують в якому функціоналі найчастіше з'являються баги: якщо у вас є тест кейси - у вас є результати виконання цих тест кейсів. Історія виконання тест кейсів покаже, в яких модулях найчастіше фейляться тести;
частково або повністю замінювати документацію: якщо описати тест кейсами весь продукт - по суті ви зможете орієнтуватися в ньому без додаткової документації.
Чого не варто робити в тест кейсах:

робити їх залежними один від одного. Якщо є якісь речі, які мають бути в тест кейсі вже готовими перед тестом - виносимо їх в передумови;
деталізувати там, де це не потрібно (це тільки ускладнить їх майбутню підтримку).
Execution Rate & Pass Rate
Це показники, які дозволяють оцінити якість продукту в цифрах.

Execution Rate: це кількість виконаних тест кейсів поділена на кількість запланованих тест кейсів. Цей коефіцієнт має бути в районі 90+% (головне щоб серед тих відсотків, що не були виконані, не було критично важливих перевірок).

Execution Rate = (Executed / Planned) * 100

Pass Rate: кількість успішних тест кейсів поділена на кількість виконаних тест кейсів АБО кількість пройдених тест кейсів поділена на кількість запланованих.
Цей показник також має бути в районі 90%. Серед тих тест кейсів, що не пройшли, не має бути критичних перевірок.

Pass Rate = (Passed / Executed) * 100
Pass Rate = (Passed / Planned) * 100

Структура тест кейса
Тест-кейс ID
Ідентифікує тест-кейс;
Має бути унікальним;
Може складатися з цифр та/або літер;
Створюється автоматично, якщо користуєтеся тест-менеджмент системами (TestRail, TestLink, Qase, etc).
Наприклад:

001, 002, 003;
UR.001, UR.002.

Назва тест кейса (Title, Summary)
Коротка назва тест кейса, яка вказує, що буде перевірятися.

Наприклад:

Користувач може успішно увійти за допомогою електронної пошти та пароля

Буде дуже добре, якщо лише за одним самері тест кейсу ви будете розуміти, що треба перевірити, наприклад:

- User should be able to publish an article without tags;
- User shouldn't be able to copy from the password field;
- Logged out user shouldn't be able to publish a Review for the products;

Пріоритет
Пріоритет вказує на відносну важливість тест кейса. Це впливає на те, в яку чергу тест кейс буде виконаний та з якою періодичністю.

Для того, щоб визначити пріоритет перевірки, задайте собі питання: наскільки критичним буде те, що конкретно цей тест не пройде?
Якщо користувач не зможе зареєструватися з валідними даними (позитивний сценарій) - це дуже погано, відповідно це буде перевірка з найвищим пріоритетом (Critical).
В той самий час перевірка мінімальної та максимальної кількості символів в полях логіну та паролю буде мати менший пріоритет (High - Medium), оскільки вам буде важливіше перевірити якийсь стандартний набір даних для реєстрації.

Перевірки того, що після введеня не валідних даних буде виведено валідуюче повідомлення або того, що обовʼязкові поля позначені зірочками (тобто негативні сценарії) - це, безумовно, важливі перевірки, але далеко не Critical (максимум High).

Правильно сформовані пріориети дозволять вам:

швидко створювати smoke/sanity/regression suites;
відсортовувати тести та визначати кандидатів на автоматизацію.
Приклади пріоритетів:

Critical, High, Medium, Low;  
Major, Minor, Trivial;  

Як короткий підсумок по пріоритетам: в більшості випадків, Critical пріоритет будуть мати тільки тест кейси за позитивними сценаріями, оскільки під час Smoke тестінгу ви будете перевіряти в першу чергу саме позитивні сценарії.

Кроки для виконання тест кейса
Перш за все, намагайтеся не називати це поле Steps to reproduce (атрибут баг репорту) - оскільки ми не репродюсимо, а проходимося по інструкції, щоб виконати тест.
Але, в цілому, вимоги до поля такі самі - короткі детальні інструкції, які мають привести нас до очікуваного результату.

Наприклад:

1. Відкрийте форму логіну
2. Заповніть поле "Логін" значенням "Test123".  
3. Заповніть поле "Пароль" значенням "Test123".  
4. Натисніть [Увійти].  

Якщо є якісь речі, які треба виконати перед тим, як почати виконувати тест кейс (залогінитися, отримати преміум аккаунт, тощо) - можна винести їх в Передумови.

Очікуваний результат
Очікуваний результат, як і в баг репорті, має детально описувати, що сталося після останнього кроку.
Чим детальніше очікуваний результат - тим краще і тим простіше буде автоматизовувати цей тест.
Тим не менш, в очікуваний результат не треба додавати речі, які ви не будете або не можете перевіряти. Наприклад:

Перевірте реєстрацію користувача "Test123. - як це зробити?
Користувача зареєстровано. - що ми маємо побачити, щоб це перевірити? Чи має щось зʼявитися на екрані? Чи буде після цього відправлено лист на електронну пошту? Чи будемо ми автоматично залоговані?
Користувач зареєстрований, його дані додано в БД. - Як ви будете перевіряти те, що дані було додано в БД, якщо ви тестуєте додаток з точки зору користувача?
В той самий час, кроки описані нижче дають нам детальну картину того, що ми маємо перевірити після пройдених кроків. Також такий детальний очікуваний результат значно простіше автоматизовувати.

- Користувача перенаправлено на головну сторінку;
- Користувач залогований, на екрані зʼявився поп-ап з текстом "Ласкаво просимо <імʼя користувача>!";
- На пошту відправлено лист для підтвердження реєстрації.

Результат / Стан виконання
Показує результат виконання тест кейса, щоб вказати, чи відповідає поведінка системи очікуваним результатам тест кейса.

Приклади статусу тест кейса:

Passed – очікувані результати тест кейса та поведінка системи збігаються;
Failed – очікувані результати тесткейса та поведінка системи не збігаються;
Blocked – тест кейс не вдалося виконати через те, що він був заблокований. Наприклад, якщо у вас в додатку не працює реєстрація - всі тести, які вимагають авторизації, будуть заблокованими.
Skipped – тест кейс не перевірено, оскільки цього разу його не планувалося виконувати.
Передумови
Як і у випадку з баг репортом, це поле визначає умови, які повинні бути виконані ще до проходження тест кейса. Зазвичай поле передумови містить перелік даних/дій, які мають існувати/виконуватися в системі, і посилання на відповідні тестові приклади/функції, які можуть налаштувати необхідні передумови.

Наприклад:

Створити користувача з логіном: Test123 і паролем: Test123.  
DB_QUERY: INSERT INTO users (username, password) VALUES ('Test123', 'Test123'); // < опціонально

А тепер розберемо додаткові поля, які можуть бути в тест кейсах.

Стан автоматизації
Доволі корисне поле, яке вказує, чи автоматизований тест та чи планується його автоматизація.
Приклади стану автоматизації:

Автоматизовано (Automated) – тест-кейс автоматизований і під час наступного виконання може бути запущений автоматично.
Кандидат (Candidate) – тест-кейс рекомендований для автоматизації, але він ще не автоматизований.
Не кандидат (Not Candidate) – тест-кейс не рекомендується автоматизувати, його слід виконувати вручну.
Тестові дані
Тут перелічуються дані, які використовуються під час виконання тесту. Можуть бути представлені безпосередньо у цьому полі або за посиланням на вкладені файли.

Наприклад:

Login: Test123,  
Password: Test123  

Вкладення (Attachments)
Може містити файли, які можна використовувати під час виконання тест кейса. Наприклад, зображення чи документи, які треба додати на сайт під час тесту.

Тип тест кейса
Вказує на тип тест кейса залежно від того, який тип тестування охоплює конкретний тест-кейс.

Наприклад:

GUI, Functional, System, Performance тощо.  